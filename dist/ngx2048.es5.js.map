{"version":3,"file":"ngx2048.es5.js","sources":["ts/src/ngx2048.ts","ts/src/app/ng2048/ng2048.module.ts","ts/src/app/ng2048/game/game.component.ts","ts/src/app/ng2048/game.service.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport {Ng2048Module,GameService,GameComponent} from './public_api';\n\nexport {MyHammerConfig as Éµa} from './app/ng2048/ng2048.module';","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { GameComponent } from './game/game.component';\nimport { HammerGestureConfig, HAMMER_GESTURE_CONFIG } from '@angular/platform-browser';\nexport class MyHammerConfig extends HammerGestureConfig  {\n  overrides = /** @type {?} */(( <any>{\n      'swipe': {velocity: 0.4, threshold: 20, direction: 31 } // override default settings\n  }));\n}\n\nfunction MyHammerConfig_tsickle_Closure_declarations() {\n/** @type {?} */\nMyHammerConfig.prototype.overrides;\n}\n\nexport class Ng2048Module { static decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  imports: [\n    CommonModule,\n    FormsModule,\n  ],\n  declarations: [GameComponent],\n  providers: [{\n      provide: HAMMER_GESTURE_CONFIG,\n      useClass: MyHammerConfig\n  }],\n  exports: [GameComponent]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction Ng2048Module_tsickle_Closure_declarations() {\n/** @type {?} */\nNg2048Module.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nNg2048Module.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Component, \n         OnInit, \n         Input, \n         Output, \n         AfterViewInit, \n         ChangeDetectorRef, \n         HostListener,\n         ViewChild,\n         ElementRef \n       } from '@angular/core';\nimport { GameService } from '../game.service';\nvar /** @type {?} */ html2canvas = require(\"html2canvas\");\nexport class GameComponent implements OnInit, AfterViewInit {\nprivate _config: any;\n   el:ElementRef;\n/**\n * @return {?}\n */\nget config() {\n    return this._config;\n  }\n/**\n * @param {?} val\n * @return {?}\n */\nset config(val) {\n    this._config = val;\n    this.gameService.saveConfig(this.config);\n  }\n\n  SWIPE_ACTION = { LEFT: 'LEFT', RIGHT: 'RIGHT', UP: 'UP', DOWN: 'DOWN' };\n\n  gameState: any = [];\n  defaultConfig: any = {};\n  actionAllowed = false;\n  lastAction: any = {};\n  score: number = 0;\n  highScore: number = 0;\n\n  allThemes: string[];\n/**\n * @param {?} event\n * @return {?}\n */\nhandleKeyboardEvent(event: KeyboardEvent) {\n    this.handle_key(event);\n  }\n/**\n * @param {?} gameService\n * @param {?} cdr\n */\nconstructor(\nprivate gameService: GameService,\nprivate cdr: ChangeDetectorRef\n  ) { }\n/**\n * @return {?}\n */\nngOnInit() {\n  }\n/**\n * @return {?}\n */\nngAfterViewInit() {\n    if (this._config) {\n      this.gameService.saveConfig(this.config);\n    }\n    this.gameService.init();\n    this.gameState = this.gameService.getGameState();\n    this.defaultConfig = this.gameService.getConfig();\n    this.actionAllowed = true;\n    this.lastAction = this.gameService.getLastMoveDetails();\n    this.score = this.gameService.getScore();\n    this.highScore = this.gameService.getHighscore();\n    this.allThemes = this.gameService.getAllThemes();\n    this.cdr.detectChanges();\n  }\n/**\n * @return {?}\n */\nnewgame() {\n    this.gameService.newGame();\n    this.gameState = this.gameService.getGameState();\n    this.defaultConfig = this.gameService.getConfig();\n    this.actionAllowed = true;\n    this.lastAction = this.gameService.getLastMoveDetails();\n    this.score = this.gameService.getScore();\n    this.highScore = this.gameService.getHighscore();\n    this.cdr.detectChanges();\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nhandle_key(event: KeyboardEvent) {\n    if (this.defaultConfig.keys) {\n      console.log(event.code, event.key);\n      let /** @type {?} */ key = event.key.toLowerCase();\n\n      switch (key) {\n        case 'w':\n        case 'arrowup':\n          this.swipe(this.SWIPE_ACTION.UP);\n          break;\n        case 's':\n        case 'arrowdown':\n          this.swipe(this.SWIPE_ACTION.DOWN);\n          break;\n        case 'a':\n        case 'arrowleft':\n          this.swipe(this.SWIPE_ACTION.LEFT);\n          break;\n        case 'd':\n        case 'arrowright':\n          this.swipe(this.SWIPE_ACTION.RIGHT);\n          break;\n        default:\n          // do nothing\n      }\n    }\n  }\n/**\n * @return {?}\n */\nchange_theme() {\n    this.gameService.changeTheme(this.defaultConfig.theme);\n    this.defaultConfig = this.gameService.getConfig();\n  }\n/**\n * @param {?} action\n * @return {?}\n */\nswipe_a(action: string) {\n    if (this.defaultConfig.touch) {\n      this.swipe(action);\n    }\n  }\n/**\n * @param {?} action\n * @return {?}\n */\nswipe(action: string) {\n    if (!this.actionAllowed) {\n      return;\n    }\n    this.gameService.changeState(action);\n    this.gameState = this.gameService.getGameState();\n    this.score = this.gameService.getScore();\n    this.highScore = this.gameService.getHighscore();\n    this.cdr.detectChanges();\n    this.addNewNo();\n  }\n/**\n * @return {?}\n */\naddNewNo() {\n\n    let /** @type {?} */ lastMove = this.gameService.getLastMoveDetails();\n\n    if (lastMove.moves && lastMove.moves > 0) {\n        this.actionAllowed = false;\n        setTimeout(() => {\n          this.gameService.setRandomNoPos();\n          this.actionAllowed = true;\n          this.cdr.detectChanges();\n        }, 200);\n    }\n  }\n/**\n * @return {?}\n */\nscreenshot() {\n    let /** @type {?} */ doc: HTMLElement = this.el.nativeElement;\n    html2canvas(doc).then(canvas => {\n      var /** @type {?} */ myImage = canvas.toDataURL(\"image/png\");\n      var /** @type {?} */ link = document.createElement(\"a\");\n      link.download = `Image_2024_score_${this.score}.png`;\n      link.href = 'data: '+myImage;\n      link.click();\n    }).catch(err => {\n\n    })\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'app-game-2048',\n  template: `\n    <div class=\"game-container {{defaultConfig ? defaultConfig.theme: ''}}\" (swipeleft)=\"swipe_a(SWIPE_ACTION.LEFT)\" (swiperight)=\"swipe_a(SWIPE_ACTION.RIGHT)\" (swipeup)=\"swipe_a(SWIPE_ACTION.UP)\" (swipedown)=\"swipe_a(SWIPE_ACTION.DOWN)\">\n      <div class=\"themecontrol\" *ngIf=\"defaultConfig && defaultConfig.themeControl\">\n        <form>\n          <select name=\"theme\" [(ngModel)]=\"defaultConfig.theme\" (change)=\"change_theme()\">\n            <option *ngFor=\"let opt of allThemes\" [value]=\"opt\" [selected]=\"opt === defaultConfig.theme\" style=\"text-transform: capitalize;\">{{opt}}</option>\n          </select>\n        </form>\n      </div>\n      <div class=\"stats\" *ngIf=\"defaultConfig && defaultConfig.scoreIndicator\">\n        <div class=\"highscore\">\n          <span class=\"txt\">High Score</span>\n          <span class=\"score\">{{highScore}}</span>\n        </div>\n        <div class=\"ngame\">\n          <button (click)=\"newgame()\">New Game</button>\n        </div>\n        <div class=\"currscore\">\n          <span class=\"txt\">Score</span>\n          <span class=\"score\">{{score}}</span>\n        </div>\n      </div>\n      <div class=\"board-container\" #game>\n        <div class=\"board-row\" *ngFor=\"let row of gameState\">\n          <div class=\"board-cell {{cell == 0 ? 'zero': 'num'+cell}}\" *ngFor=\"let cell of row\">\n            <span>{{cell == 0 ? '&nbsp;': cell}}</span>\n          </div>\n        </div>\n        <div class=\"over\" *ngIf=\"lastAction && lastAction.deadlock\">\n          <div class=\"container\">\n            <div class=\"text\">Game Over</div>\n            <div class=\"btn-cnt\">\n              <button class=\"newgame\" (click)=\"newgame()\">New Game</button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"control-container\" *ngIf=\"defaultConfig && defaultConfig.controls\">\n        <div class=\"btn-container\">\n            <div class=\"g_row\">\n                <button class=\"ctl-btn up\" (click)=\"swipe(SWIPE_ACTION.UP)\">&uarr;</button>\n            </div>\n            <div class=\"g_row\">\n                <button class=\"ctl-btn left\" (click)=\"swipe(SWIPE_ACTION.LEFT)\">&larr;</button>\n                <button class=\"btn-rnd\" (click)=\"screenshot()\">&#9786;</button>\n                <button class=\"ctl-btn right\" (click)=\"swipe(SWIPE_ACTION.RIGHT)\">&rarr;</button>\n            </div>\n            <div class=\"g_row\">\n                <button class=\"ctl-btn down\" (click)=\"swipe(SWIPE_ACTION.DOWN)\">&darr;</button>\n            </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .game-container {\n      width: 90%;\n      padding: 10px;\n      margin: 0 auto; }\n      .game-container .board-container {\n        position: relative;\n        -webkit-animation: MyAnimation 1s;\n                animation: MyAnimation 1s;\n        width: 100%; }\n        .game-container .board-container .board-row {\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex; }\n          .game-container .board-container .board-row .board-cell {\n            -webkit-box-flex: 1;\n                -ms-flex: auto;\n                    flex: auto;\n            min-width: 50px;\n            min-height: 70px;\n            background: #96cff5; }\n            .game-container .board-container .board-row .board-cell span {\n              display: block;\n              vertical-align: middle;\n              text-align: center;\n              margin: 34% 0; }\n        .game-container .board-container .over {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background: rgba(189, 189, 189, 0.59); }\n          .game-container .board-container .over .container {\n            display: block;\n            text-align: center;\n            padding-top: 30%; }\n            .game-container .board-container .over .container .text {\n              font-size: 30px;\n              font-weight: 600;\n              color: #ffffff;\n              text-shadow: 0 0 12px #000; }\n            .game-container .board-container .over .container .btn-cnt .newgame {\n              padding: 5px;\n              margin: 5px;\n              font-size: 18px;\n              font-weight: 600;\n              -webkit-box-shadow: 0 0 12px #525252;\n                      box-shadow: 0 0 12px #525252; }\n      .game-container .control-container {\n        width: 100%;\n        text-align: center;\n        margin-top: 20px; }\n        .game-container .control-container .btn-container {\n          max-width: 70%;\n          width: auto;\n          margin: 0 auto;\n          border-radius: 50%;\n          background: #f3f3f3; }\n          .game-container .control-container .btn-container .g_row {\n            display: block;\n            width: 100%; }\n            .game-container .control-container .btn-container .g_row .ctl-btn {\n              background: #4c4c4c;\n              /* Old browsers */\n              /* FF3.6-15 */\n              /* Chrome10-25,Safari5.1-6 */\n              background: linear-gradient(135deg, #4c4c4c 0%, #595959 12%, #666666 25%, #474747 39%, #2c2c2c 50%, black 51%, #111111 60%, #2b2b2b 76%, #1c1c1c 91%, #131313 100%);\n              /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n              filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#4c4c4c', endColorstr='#131313',GradientType=1 );\n              /* IE6-9 fallback on horizontal gradient */\n              outline: none;\n              min-width: 50px;\n              min-height: 50px;\n              cursor: pointer;\n              font-weight: 600;\n              font-size: 34px; }\n              .game-container .control-container .btn-container .g_row .ctl-btn:active {\n                outline: none; }\n            .game-container .control-container .btn-container .g_row .ctl-btn.up {\n              border-top-left-radius: 50%;\n              border-top-right-radius: 50%; }\n            .game-container .control-container .btn-container .g_row .ctl-btn.down {\n              border-bottom-left-radius: 50%;\n              border-bottom-right-radius: 50%; }\n            .game-container .control-container .btn-container .g_row .ctl-btn.left {\n              border-top-left-radius: 50%;\n              border-bottom-left-radius: 50%; }\n            .game-container .control-container .btn-container .g_row .ctl-btn.right {\n              border-top-right-radius: 50%;\n              border-bottom-right-radius: 50%; }\n            .game-container .control-container .btn-container .g_row .btn-rnd {\n              background: #3a3a3a;\n              outline: none;\n              color: #fff;\n              cursor: pointer;\n              font-weight: 600;\n              font-size: 34px;\n              border-radius: 20%; }\n      .game-container .stats {\n        width: 100%;\n        overflow: hidden;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-shadow: 0 0 5px #000;\n                box-shadow: 0 0 5px #000;\n        margin: 10px 0;\n        padding: 5px 0;\n        border-radius: 5px; }\n        .game-container .stats .highscore {\n          -webkit-box-flex: 1;\n              -ms-flex: 1;\n                  flex: 1;\n          padding: 0 5px; }\n          .game-container .stats .highscore .txt {\n            display: -webkit-box;\n            display: -ms-flexbox;\n            display: flex;\n            color: #000;\n            font-weight: 600;\n            text-shadow: 0px 0px 2px #e2e2e2; }\n          .game-container .stats .highscore .score {\n            display: -webkit-box;\n            display: -ms-flexbox;\n            display: flex;\n            color: #000;\n            font-weight: 600;\n            font-size: 20px;\n            border-top: 1px double #000;\n            margin: 5px 0; }\n        .game-container .stats .ngame {\n          -webkit-box-flex: 1;\n              -ms-flex: 1;\n                  flex: 1; }\n          .game-container .stats .ngame button {\n            display: -webkit-box;\n            display: -ms-flexbox;\n            display: flex;\n            display: table-cell;\n            vertical-align: middle;\n            text-align: center;\n            width: 100%;\n            line-height: 1.4;\n            font-size: 17px;\n            font-weight: 600; }\n        .game-container .stats .currscore {\n          -webkit-box-flex: 1;\n              -ms-flex: 1;\n                  flex: 1;\n          text-align: right;\n          padding: 0 5px; }\n          .game-container .stats .currscore .txt {\n            display: block;\n            color: #000;\n            font-weight: 600;\n            text-shadow: 0px 0px 2px #e2e2e2; }\n          .game-container .stats .currscore .score {\n            display: block;\n            color: #000;\n            font-weight: 600;\n            font-size: 20px;\n            border-top: 1px double #000;\n            margin: 5px 0; }\n      .game-container .themecontrol {\n        -webkit-box-shadow: 0 0 10px rgba(136, 134, 134, 0.51);\n                box-shadow: 0 0 10px rgba(136, 134, 134, 0.51);\n        margin: 5px 0; }\n        .game-container .themecontrol select {\n          width: 100%;\n          height: 35px;\n          text-transform: capitalize;\n          font-size: 18px; }\n\n    @-webkit-keyframes MyAnimation {\n      0% {\n        padding-top: 25px; }\n      25% {\n        padding-top: 30px; }\n      50% {\n        padding-top: 10px; }\n      75% {\n        padding-top: 15px; }\n      80% {\n        padding-top: 5px; }\n      90% {\n        padding-top: 10px; }\n      100% {\n        padding-top: 0px; } }\n\n    @keyframes MyAnimation {\n      0% {\n        padding-top: 25px; }\n      25% {\n        padding-top: 30px; }\n      50% {\n        padding-top: 10px; }\n      75% {\n        padding-top: 15px; }\n      80% {\n        padding-top: 5px; }\n      90% {\n        padding-top: 10px; }\n      100% {\n        padding-top: 0px; } }\n\n    .game-container.dark .board-container {\n      background: #7b7b7b;\n      -webkit-box-shadow: 0 0 10px #989898;\n              box-shadow: 0 0 10px #989898;\n      border: 1px solid #333;\n      border-style: inset;\n      border-radius: 5px; }\n      .game-container.dark .board-container .board-row .board-cell {\n        background: #fff;\n        margin: 2px;\n        border-radius: 5px; }\n      .game-container.dark .board-container .board-row .board-cell.num2, .game-container.dark .board-container .board-row .board-cell.num256 {\n        background: #d0cbcb;\n        color: #000;\n        font-size: initial;\n        font-weight: 600;\n        -webkit-box-shadow: 0 0 2px #000;\n                box-shadow: 0 0 2px #000; }\n      .game-container.dark .board-container .board-row .board-cell.num4, .game-container.dark .board-container .board-row .board-cell.num512 {\n        background: #7b7b7b;\n        color: #000;\n        font-size: initial;\n        font-weight: 600;\n        -webkit-box-shadow: 0 0 2px #000;\n                box-shadow: 0 0 2px #000; }\n      .game-container.dark .board-container .board-row .board-cell.num8, .game-container.dark .board-container .board-row .board-cell.num1024 {\n        background: #2d2d2d;\n        color: #fff;\n        font-size: initial;\n        font-weight: 600;\n        -webkit-box-shadow: 0 0 2px #000;\n                box-shadow: 0 0 2px #000; }\n      .game-container.dark .board-container .board-row .board-cell.num16, .game-container.dark .board-container .board-row .board-cell.num2048 {\n        background: #4c4c4c;\n        color: #fff;\n        font-size: initial;\n        font-weight: 600;\n        -webkit-box-shadow: 0 0 2px #000;\n                box-shadow: 0 0 2px #000;\n        background: #4c4c4c;\n        /* Old browsers */\n        /* FF3.6-15 */\n        /* Chrome10-25,Safari5.1-6 */\n        background: linear-gradient(135deg, #4c4c4c 0%, #595959 12%, #666666 25%, #474747 39%, #2c2c2c 50%, black 51%, #111111 60%, #2b2b2b 76%, #1c1c1c 91%, #131313 100%);\n        /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#4c4c4c', endColorstr='#131313',GradientType=1 );\n        /* IE6-9 fallback on horizontal gradient */ }\n      .game-container.dark .board-container .board-row .board-cell.num32, .game-container.dark .board-container .board-row .board-cell.num4096 {\n        background: #171717;\n        color: #fff;\n        font-size: initial;\n        font-weight: 600;\n        -webkit-box-shadow: 0 0 2px #000;\n                box-shadow: 0 0 2px #000; }\n      .game-container.dark .board-container .board-row .board-cell.num64 {\n        background: #000000;\n        color: #fff;\n        font-size: initial;\n        font-weight: 600;\n        -webkit-box-shadow: 0 0 2px #000;\n                box-shadow: 0 0 2px #000; }\n      .game-container.dark .board-container .board-row .board-cell.num128 {\n        /* FF3.6-15 */\n        /* Chrome10-25,Safari5.1-6 */\n        background: -webkit-gradient(linear, left top, right top, color-stop(44%, rgba(0, 0, 0, 0.65)), color-stop(63%, rgba(0, 0, 0, 0.36)), color-stop(87%, transparent), to(transparent));\n        background: linear-gradient(to right, rgba(0, 0, 0, 0.65) 44%, rgba(0, 0, 0, 0.36) 63%, transparent 87%, transparent 100%);\n        /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#a6000000', endColorstr='#00000000',GradientType=1 );\n        /* IE6-9 */\n        color: #fff; }\n\n    .game-container.dark .control-container .btn-container .g_row .ctl-btn {\n      color: #fff;\n      background: #4c4c4c;\n      /* Old browsers */\n      /* FF3.6-15 */\n      /* Chrome10-25,Safari5.1-6 */\n      background: linear-gradient(135deg, #4c4c4c 0%, #595959 12%, #666666 25%, #474747 39%, #2c2c2c 50%, black 51%, #111111 60%, #2b2b2b 76%, #1c1c1c 91%, #131313 100%);\n      /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n      filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#4c4c4c', endColorstr='#131313',GradientType=1 );\n      /* IE6-9 fallback on horizontal gradient */ }\n\n    .game-container.dark .control-container .btn-container .g_row .btn-rnd {\n      background: #4c4c4c;\n      /* Old browsers */\n      /* FF3.6-15 */\n      /* Chrome10-25,Safari5.1-6 */\n      background: linear-gradient(135deg, #4c4c4c 0%, #595959 12%, #666666 25%, #474747 39%, #2c2c2c 50%, black 51%, #111111 60%, #2b2b2b 76%, #1c1c1c 91%, #131313 100%);\n      /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n      filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#4c4c4c', endColorstr='#131313',GradientType=1 );\n      /* IE6-9 fallback on horizontal gradient */\n      color: #fff; }\n\n    .game-container.dark .stats {\n      background: #4c4c4c;\n      /* Old browsers */\n      /* FF3.6-15 */\n      /* Chrome10-25,Safari5.1-6 */\n      background: linear-gradient(135deg, #4c4c4c 0%, #595959 12%, #666666 25%, #474747 39%, #2c2c2c 50%, black 51%, #111111 60%, #2b2b2b 76%, #1c1c1c 91%, #131313 100%);\n      /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n      filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#4c4c4c', endColorstr='#131313',GradientType=1 );\n      /* IE6-9 fallback on horizontal gradient */ }\n      .game-container.dark .stats .highscore .txt {\n        color: #fff;\n        text-shadow: none; }\n      .game-container.dark .stats .highscore .score {\n        color: #fff;\n        border-top: 1px double #fff; }\n      .game-container.dark .stats .currscore .txt {\n        color: #fff;\n        text-shadow: none; }\n      .game-container.dark .stats .currscore .score {\n        color: #fff;\n        border-top: 1px double #fff; }\n\n    .game-container.colorful .board-container {\n      background-color: #a8e9ff;\n      filter: progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr=#a8e9ff, endColorstr=#4a3ef0);\n      background-image: -webkit-gradient(linear, right bottom, left top, color-stop(5%, #a8e9ff), color-stop(25%, #4a3ef0), color-stop(52%, #3ef053), color-stop(80%, #ff8d00), to(#f7f734));\n      background-image: linear-gradient(right bottom, #a8e9ff 5%, #4a3ef0 25%, #3ef053 52%, #ff8d00 80%, #f7f734 100%);\n      background-image: -ms-linear-gradient(right bottom, #a8e9ff 5%, #4a3ef0 25%, #3ef053 52%, #ff8d00 80%, #f7f734 100%);\n      background-image: -webkit-gradient(linear, right bottom, left top, color-stop(5%, #a8e9ff), color-stop(25%, #4a3ef0), color-stop(52%, #3ef053), color-stop(80%, #ff8d00), color-stop(100%, #f7f734));\n      filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#e0f3fa', endColorstr='#b6dffd',GradientType=1 );\n      /* IE6-9 fallback on horizontal gradient */\n      -webkit-box-shadow: 0 0 10px rgba(2, 97, 97, 0.78);\n              box-shadow: 0 0 10px rgba(2, 97, 97, 0.78);\n      border: 1px solid #7977fb;\n      border-style: inset;\n      border-radius: 5px; }\n      .game-container.colorful .board-container .board-row .board-cell {\n        background-color: #ffffff;\n        margin: 2px;\n        border-radius: 5px; }\n      .game-container.colorful .board-container .board-row .board-cell.num2, .game-container.colorful .board-container .board-row .board-cell.num256 {\n        background-color: #2ef245;\n        filter: progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr=#2ef245, endColorstr=#cbff70);\n        background-image: -webkit-gradient(linear, left bottom, right top, from(#2ef245), to(#cbff70));\n        background-image: linear-gradient(left bottom, #2ef245 0%, #cbff70 100%);\n        background-image: -o-linear-gradient(left bottom, #2ef245 0%, #cbff70 100%);\n        background-image: -webkit-gradient(linear, left bottom, right top, color-stop(0%, #2ef245), color-stop(100%, #cbff70));\n        color: #000;\n        font-size: initial;\n        font-weight: 600;\n        -webkit-box-shadow: 0 0 2px #fff;\n                box-shadow: 0 0 2px #fff; }\n      .game-container.colorful .board-container .board-row .board-cell.num4, .game-container.colorful .board-container .board-row .board-cell.num512 {\n        background-color: #4b2ef2;\n        filter: progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr=#4b2ef2, endColorstr=#5bc4f5);\n        background-image: -webkit-gradient(linear, left bottom, right top, from(#4b2ef2), to(#5bc4f5));\n        background-image: linear-gradient(left bottom, #4b2ef2 0%, #5bc4f5 100%);\n        background-image: -o-linear-gradient(left bottom, #4b2ef2 0%, #5bc4f5 100%);\n        background-image: -webkit-gradient(linear, left bottom, right top, color-stop(0%, #4b2ef2), color-stop(100%, #5bc4f5));\n        color: #000;\n        font-size: initial;\n        font-weight: 600;\n        -webkit-box-shadow: 0 0 2px #fff;\n                box-shadow: 0 0 2px #fff; }\n      .game-container.colorful .board-container .board-row .board-cell.num8, .game-container.colorful .board-container .board-row .board-cell.num1024 {\n        background-color: #f0b222;\n        filter: progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr=#f0b222, endColorstr=#4251f5);\n        background-image: linear-gradient(right bottom, #f0b222 21%, #4251f5 81%);\n        background-image: -o-linear-gradient(right bottom, #f0b222 21%, #4251f5 81%);\n        background-image: -webkit-gradient(linear, right bottom, left top, color-stop(21%, #f0b222), color-stop(81%, #4251f5));\n        color: #fff;\n        font-size: initial;\n        font-weight: 600;\n        -webkit-box-shadow: 0 0 2px #fff;\n                box-shadow: 0 0 2px #fff; }\n      .game-container.colorful .board-container .board-row .board-cell.num16, .game-container.colorful .board-container .board-row .board-cell.num2048 {\n        background-color: #fc8d77;\n        filter: progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr=#fc8d77, endColorstr=#a673ff);\n        background-image: -webkit-gradient(linear, right bottom, left top, from(#fc8d77), color-stop(81%, #a673ff));\n        background-image: linear-gradient(right bottom, #fc8d77 0%, #a673ff 81%);\n        background-image: -o-linear-gradient(right bottom, #fc8d77 0%, #a673ff 81%);\n        background-image: -webkit-gradient(linear, right bottom, left top, color-stop(0%, #fc8d77), color-stop(81%, #a673ff));\n        color: #000;\n        font-size: initial;\n        font-weight: 600;\n        -webkit-box-shadow: 0 0 2px #000;\n                box-shadow: 0 0 2px #000; }\n      .game-container.colorful .board-container .board-row .board-cell.num32, .game-container.colorful .board-container .board-row .board-cell.num4096 {\n        background-color: #ffff29;\n        filter: progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr=#ffff29, endColorstr=#ff73ce);\n        background-image: -webkit-gradient(linear, right bottom, left top, from(#ffff29), color-stop(81%, #ff73ce));\n        background-image: linear-gradient(right bottom, #ffff29 0%, #ff73ce 81%);\n        background-image: -o-linear-gradient(right bottom, #ffff29 0%, #ff73ce 81%);\n        background-image: -webkit-gradient(linear, right bottom, left top, color-stop(0%, #ffff29), color-stop(81%, #ff73ce));\n        color: #000;\n        font-size: initial;\n        font-weight: 600;\n        -webkit-box-shadow: 0 0 2px #000;\n                box-shadow: 0 0 2px #000; }\n      .game-container.colorful .board-container .board-row .board-cell.num64 {\n        background-color: #a2a8eb;\n        filter: progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr=#a2a8eb, endColorstr=#b5b5b5);\n        background-image: -webkit-gradient(linear, right bottom, left top, from(#a2a8eb), color-stop(81%, #b5b5b5));\n        background-image: linear-gradient(right bottom, #a2a8eb 0%, #b5b5b5 81%);\n        background-image: -o-linear-gradient(right bottom, #a2a8eb 0%, #b5b5b5 81%);\n        background-image: -webkit-gradient(linear, right bottom, left top, color-stop(0%, #a2a8eb), color-stop(81%, #b5b5b5));\n        color: #000;\n        font-size: initial;\n        font-weight: 600;\n        -webkit-box-shadow: 0 0 2px #000;\n                box-shadow: 0 0 2px #000; }\n      .game-container.colorful .board-container .board-row .board-cell.num128 {\n        background-color: #3d8ef2;\n        filter: progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr=#3d8ef2, endColorstr=#68cf5d);\n        background-image: linear-gradient(left bottom, #3d8ef2 11%, #68cf5d 51%, #f0b52e 86%);\n        background-image: -ms-linear-gradient(left bottom, #3d8ef2 11%, #68cf5d 51%, #f0b52e 86%);\n        background-image: -webkit-gradient(linear, left bottom, right top, color-stop(11%, #3d8ef2), color-stop(51%, #68cf5d), color-stop(86%, #f0b52e));\n        color: #000;\n        font-size: initial;\n        font-weight: 600;\n        -webkit-box-shadow: 0 0 2px #000;\n                box-shadow: 0 0 2px #000; }\n\n    .game-container.colorful .control-container .btn-container {\n      background-color: #80d7ff;\n      filter: progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr=#80d7ff, endColorstr=#53f55b);\n      background-image: -webkit-gradient(linear, right bottom, left top, from(#80d7ff), color-stop(31%, #53f55b), color-stop(53%, #628ef5), color-stop(79%, #ccb221), to(#ff7070));\n      background-image: linear-gradient(right bottom, #80d7ff 0%, #53f55b 31%, #628ef5 53%, #ccb221 79%, #ff7070 100%);\n      background-image: -ms-linear-gradient(right bottom, #80d7ff 0%, #53f55b 31%, #628ef5 53%, #ccb221 79%, #ff7070 100%);\n      background-image: -webkit-gradient(linear, right bottom, left top, color-stop(0%, #80d7ff), color-stop(31%, #53f55b), color-stop(53%, #628ef5), color-stop(79%, #ccb221), color-stop(100%, #ff7070)); }\n      .game-container.colorful .control-container .btn-container .g_row .ctl-btn {\n        color: #000;\n        background: #b7deed;\n        /* Old browsers */\n        /* FF3.6-15 */\n        /* Chrome10-25,Safari5.1-6 */\n        background: linear-gradient(135deg, #b7deed 0%, #71ceef 50%, #21b4e2 51%, #b7deed 100%);\n        /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#b7deed', endColorstr='#b7deed',GradientType=1 );\n        /* IE6-9 fallback on horizontal gradient */ }\n      .game-container.colorful .control-container .btn-container .g_row .btn-rnd {\n        background: #b7deed;\n        /* Old browsers */\n        /* FF3.6-15 */\n        /* Chrome10-25,Safari5.1-6 */\n        background: linear-gradient(135deg, #b7deed 0%, #71ceef 50%, #21b4e2 51%, #b7deed 100%);\n        /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#b7deed', endColorstr='#b7deed',GradientType=1 );\n        /* IE6-9 fallback on horizontal gradient */\n        color: #000; }\n\n    .game-container.colorful .stats {\n      background: #ffb76b;\n      /* Old browsers */\n      /* FF3.6-15 */\n      /* Chrome10-25,Safari5.1-6 */\n      background: linear-gradient(135deg, #ffb76b 0%, #ffa73d 50%, #ff7c00 51%, #ff7f04 100%);\n      /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n      filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffb76b', endColorstr='#ff7f04',GradientType=1 );\n      /* IE6-9 fallback on horizontal gradient */ }\n      .game-container.colorful .stats .highscore .txt {\n        color: #000;\n        text-shadow: none; }\n      .game-container.colorful .stats .highscore .score {\n        color: #000;\n        border-top: 1px double #000; }\n      .game-container.colorful .stats .currscore .txt {\n        color: #000;\n        text-shadow: none; }\n      .game-container.colorful .stats .currscore .score {\n        color: #000;\n        border-top: 1px double #000; }\n  `],\n  providers: [GameService]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: GameService, },\n{type: ChangeDetectorRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'el': [{ type: ViewChild, args: ['game', ] },],\n'config': [{ type: Input },],\n'handleKeyboardEvent': [{ type: HostListener, args: ['document:keyup', ['$event'], ] },],\n};\n}\n\nfunction GameComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nGameComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nGameComponent.ctorParameters;\n/** @type {?} */\nGameComponent.propDecorators;\n/** @type {?} */\nGameComponent.prototype._config;\n/** @type {?} */\nGameComponent.prototype.el;\n/** @type {?} */\nGameComponent.prototype.SWIPE_ACTION;\n/** @type {?} */\nGameComponent.prototype.gameState;\n/** @type {?} */\nGameComponent.prototype.defaultConfig;\n/** @type {?} */\nGameComponent.prototype.actionAllowed;\n/** @type {?} */\nGameComponent.prototype.lastAction;\n/** @type {?} */\nGameComponent.prototype.score;\n/** @type {?} */\nGameComponent.prototype.highScore;\n/** @type {?} */\nGameComponent.prototype.allThemes;\n/** @type {?} */\nGameComponent.prototype.gameService;\n/** @type {?} */\nGameComponent.prototype.cdr;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Injectable } from '@angular/core';\nexport class GameService {\nprivate defaultConfig = {\n    grid: 4, // no of grid to show\n    touch: true, // touch support\n    controls: false, // manual button control\n    keys: true, // arrow keys support\n    themeControl: true, // change theme drop-down\n    scoreIndicator: true, // show current score\n    highScore: true, // remember high score\n    rememberState: true, // use local storage for state presistense\n    theme: 'dark' // current theme\n  };\nprivate SUPPORTED_THEMES: string[] = ['dark', 'colorful' ];\nprivate STORAGE_NAME = 'app_2048_storage';\nprivate highScore: number;\nprivate gameState = [];\nprivate score: number;\nprivate lastMoveDetails: any = {};\nconstructor() { \n    this.init();\n  }\n/**\n * @return {?}\n */\npublic test() {\n    // this.init();\n    // console.log('after init');\n    // this.debug();\n    // this.changeState('LEFT');\n    // console.log('after left');\n    // this.debug();\n    // this.setRandomNoPos();\n    // console.log('after new elem');\n    // this.debug();\n    // this.changeState('LEFT');\n    // console.log('after left again');\n    // this.debug();\n    // this.setRandomNoPos();\n    // console.log('after new elem again');\n    // this.debug();\n  }\n/**\n * for print debug display\n * @return {?}\n */\npublic debug() {\n    let /** @type {?} */ s = [];\n    s = this.gameState.map(x => {\n      return x.join(' | ');\n    });\n    console.log('----------------------', new Date().getTime());\n    let /** @type {?} */ y = 0;\n    s.forEach(x => {\n      console.log('', y , ' ||', x);\n      y++;\n    });\n    console.log('----------------------');\n  }\n/**\n * init the game, check localstorage if config permit\n * otherwise start a fresh game\n * @return {?}\n */\npublic init() {\n    const /** @type {?} */ st = this.getState();\n    this.lastMoveDetails = {};\n    if (st.gameState && this.defaultConfig.rememberState) {\n      this.gameState = st.gameState;\n      this.score = st.score;\n      this.highScore = st.highScore;\n      this.defaultConfig = st.config;\n      this.checkDeadlock();\n    } else {\n      this.newGame();\n    }\n  }\n/**\n * @return {?}\n */\npublic newGame() {\n    this.lastMoveDetails = {};\n    this.gameState = [];\n    const /** @type {?} */ size = this.defaultConfig.grid;\n    for (let /** @type {?} */ i = 0; i < size; i++) {\n      let /** @type {?} */ arr = [];\n      for (let /** @type {?} */ j = 0; j < size; j++ ) { arr.push(0); }\n      this.gameState.push(arr);\n    }\n    this.highScore = this.highScore == undefined ? 0 : this.highScore;\n    this.score = 0;\n    this.setRandomNoPos();\n    this.setRandomNoPos();\n    this.storeGameState(this.gameState);\n    // this.saveHighScore(this.highScore);\n    this.saveScore(this.score);\n  }\n/**\n * Set a random position in the state with a random number,\n * return true if success, false otherwise. If false no such empty \n * block available, that means game ends.\n * @return {?}\n */\npublic setRandomNoPos() {\n    let /** @type {?} */ emptyPositions = [];\n    for (let /** @type {?} */ i = 0; i < this.gameState.length; i++) {\n      for (let /** @type {?} */ j = 0; j < this.gameState[i].length; j++) {\n        if (this.gameState[i][j] === 0) {\n          emptyPositions.push({i: i, j: j});\n        }\n      }\n    }\n    if (emptyPositions.length) {\n      const /** @type {?} */ randPos = emptyPositions[Math.floor(Math.random() * emptyPositions.length)];\n      const /** @type {?} */ randNo = Math.random() * 100 > 80 ? 4 : 2;\n      this.lastMoveDetails.posAdded = randPos;\n      this.lastMoveDetails.posLeft = emptyPositions.length - 1;\n      this.gameState[randPos.i][randPos.j] = randNo;\n    } else {\n      this.lastMoveDetails.posLeft = 0;\n      return false;\n    }\n    this.storeGameState(this.gameState);\n  }\n/**\n * @return {?}\n */\npublic getLastMoveDetails() {\n    return this.lastMoveDetails;\n  }\n/**\n * @param {?} theme\n * @return {?}\n */\npublic changeTheme(theme: string) {\n    this.defaultConfig.theme = this.SUPPORTED_THEMES.indexOf(theme) >= 0 ? theme: this.defaultConfig.theme;\n    this.saveConfig(this.defaultConfig);\n  }\n/**\n * change the game state according the action\n * @param {?} direction direction of the operation, [LEFT, RIGHT, UP, DOWN]\n * @return {?}\n */\npublic changeState(direction) {\n    switch (direction) {\n      /**\n       * from right to left\n       * will stack from 0, to last\n       */\n      case 'LEFT':\n        this.gameState = this.moveLeft(this.gameState);\n        break;\n      /**\n       * from left to right\n       * will stack from last, to 0\n       */\n      case 'RIGHT':\n      this.gameState = this.moveRight(this.gameState);\n        break;\n      /**\n       * from down to up\n       * will stack from 0, to bottom\n       */\n      case 'UP':\n        let /** @type {?} */ state = this.getCopyState();\n        state = this.transpose(state);\n        state = this.moveLeft(state);\n        this.gameState = this.transpose(state);\n        break;\n      /**\n       * from up to down\n       * will stack from bottom, to 0\n       */\n      case 'DOWN':\n        let /** @type {?} */ stater = this.getCopyState();\n        stater = this.transpose(stater);\n        stater = this.moveRight(stater);\n        this.gameState = this.transpose(stater);\n        break;\n    }\n    this.storeGameState(this.gameState);\n    this.checkDeadlock();\n  }\n/**\n * Get current config\n * @return {?}\n */\npublic getConfig() {\n    return this.defaultConfig;\n  }\n/**\n * Get all supported themes\n * @return {?}\n */\npublic getAllThemes() {\n    return this.SUPPORTED_THEMES;\n  }\n/**\n * Save the game state, if config permit save to localstorage\n * @param {?} gameState 2d representation of the game\n * @return {?}\n */\npublic storeGameState(gameState: any) {\n    this.gameState = gameState;\n    if (this.defaultConfig.rememberState) {\n      // tslint:disable-next-line:prefer-const\n      let /** @type {?} */ currentState = this.getState();\n      currentState.gameState = gameState;\n      this.saveState(currentState);\n    }\n  }\n/**\n * get game 2d array representation\n * @return {?}\n */\npublic getGameState() {\n    return this.gameState;\n  }\n/**\n * get config object\n * @param {?} config game configuration\n * @return {?}\n */\npublic saveConfig(config) {\n    this.mergeConfig(config);\n\n    if (this.defaultConfig.rememberState) {\n      // tslint:disable-next-line:prefer-const\n      let /** @type {?} */ st = this.getState();\n      st.config = this.defaultConfig;\n      this.saveState(st);\n    }\n  }\n/**\n * get high score\n * @return {?}\n */\npublic getHighscore() {\n    return this.highScore;\n  }\n/**\n * save high score, if config permit save in localstorage\n * @param {?} score high score\n * @return {?}\n */\npublic saveHighScore(score: number) {\n    this.highScore = score;\n    if (this.defaultConfig.rememberState) {\n      // tslint:disable-next-line:prefer-const\n      let /** @type {?} */ st = this.getState();\n      st.highScore = score;\n      this.saveState(st);\n    }\n  }\n/**\n * delete high score, set to 0\n * @return {?}\n */\npublic deleteHighScore() {\n    this.highScore = 0;\n    if (this.defaultConfig.rememberState) {\n      // tslint:disable-next-line:prefer-const\n      let /** @type {?} */ st = this.getState();\n      st.highScore = 0;\n      this.saveState(st);\n    }\n  }\n/**\n * get current score\n * @return {?}\n */\npublic getScore() {\n    return this.score;\n  }\n/**\n * Save score, if config permit save in localstorage\n * @param {?} score current score\n * @return {?}\n */\npublic saveScore(score: number) {\n    this.score = score;\n\n    if(this.score > this.highScore) {\n      this.saveHighScore(this.score);\n    }\n\n    if (this.defaultConfig.rememberState) {\n      // tslint:disable-next-line:prefer-const\n      let /** @type {?} */ st = this.getState();\n      st.score = score;\n      this.saveState(st);\n    }\n  }\n/**\n * delete current score\n * @return {?}\n */\npublic deleteScore() {\n    this.score = 0;\n    if (this.defaultConfig.rememberState) {\n      // tslint:disable-next-line:prefer-const\n      let /** @type {?} */ st = this.getState();\n      st.score = 0;\n      this.saveState(st);\n    }\n  }\n/**\n * Transpose a given array, return a new one\n * @param {?} m an array\n * @return {?}\n */\nprivate transpose(m) {\n    // tslint:disable-next-line:no-shadowed-variable\n    return m[0].map((x, i) => m.map(x => x[i]));\n  }\n/**\n * shallow copy the game state\n * @return {?}\n */\nprivate getCopyState() {\n    let /** @type {?} */ arr = [];\n\n    arr = this.gameState.map(x => x.map(y => y));\n\n    return arr;\n  }\n/**\n * Move the game array to left\n * @param {?} state the 2d array representation of the game\n * @return {?}\n */\nprivate moveLeft(state) {\n    let /** @type {?} */ myState = [];\n    state.forEach(x => {\n      myState.push(x.map(y => y));\n    })\n    let /** @type {?} */ noOfMoves = 0;\n    let /** @type {?} */ score = this.getScore() || 0;\n    for (let /** @type {?} */ i = 0; i < myState.length; i++) {\n      /**\n       * myState[i] contains each row\n       */\n      for (let /** @type {?} */ j = 0; j < myState[i].length; j++) {\n        let /** @type {?} */ merged = false;\n        let /** @type {?} */ pulled = false;\n        for (let /** @type {?} */ k = j + 1; k < myState[i].length; k++) {\n          if (merged) { break; }\n          if (myState[i][j] === 0 && myState[i][k] !== 0) {\n            myState[i][j] = myState[i][k];\n            myState[i][k] = 0;\n            pulled = true;\n            noOfMoves++;\n            continue;\n          }\n          if (myState[i][j] === myState[i][k] && myState[i][k] !== 0) {\n            myState[i][j] *= 2;\n            myState[i][k] = 0;\n            score += myState[i][j];\n            merged = true;\n            noOfMoves++;\n            continue;\n          }\n          if (myState[i][j] !== 0 && myState[i][k] !==0) {\n            break;\n          }\n        }\n      }\n    }\n    this.saveScore(score);\n    this.lastMoveDetails.moves = noOfMoves;\n    return myState;\n  }\n/**\n * @return {?}\n */\nprivate checkDeadlock() {\n    if (this.lastMoveDetails && this.lastMoveDetails.posLeft) {\n      this.lastMoveDetails.deadlock = false;\n      return;\n    }\n/**\n * check row wise\n */\nlet found = false;\n    for (let /** @type {?} */ i = 0; i < this.gameState.length; i++) {\n      for (let /** @type {?} */ j = 0; j < this.gameState[i].length - 1; j++) {\n        if (this.gameState[i][j] === this.gameState[i][j + 1]) {\n          found = true;\n        }\n      }\n    }\n    if (found) {\n      this.lastMoveDetails.deadlock = false;\n      return;\n    }\n\n    /**\n     * check column wise\n     */\n    for (let /** @type {?} */ i = 0; i < this.gameState.length - 1; i++) {\n      for (let /** @type {?} */ j = 0; j < this.gameState[i].length; j++) {\n        if (this.gameState[i][j] === this.gameState[i + 1][j]) {\n          found = true;\n        }\n      }\n    }\n    if (found) {\n      this.lastMoveDetails.deadlock = false;\n    } else {\n      this.lastMoveDetails.deadlock = true;\n    }\n    return;\n  }\n/**\n * Move the game array to right\n * @param {?} state the 2d array representation of the game\n * @return {?}\n */\nprivate moveRight(state) {\n    let /** @type {?} */ myState = [];\n    state.forEach(x => {\n      myState.push(x.map(y => y));\n    })\n    let /** @type {?} */ noOfMoves = 0;\n    let /** @type {?} */ score = this.getScore() || 0;\n    for (let /** @type {?} */ i = 0; i < myState.length; i++) {\n      /**\n       * myState[i] contains each row\n       */\n      for (let /** @type {?} */ j = myState[i].length - 1; j >= 0; j--) {\n        let /** @type {?} */ merged = false;\n        let /** @type {?} */ pulled = false;\n        for (let /** @type {?} */ k = j - 1; k >= 0; k--) {\n          if (merged) { break; }\n          if (myState[i][j] === 0 && myState[i][k] !== 0) {\n            myState[i][j] = myState[i][k];\n            myState[i][k] = 0;\n            pulled = true;\n            noOfMoves++;\n            continue;\n          }\n          if (myState[i][j] === myState[i][k] && myState[i][k] !== 0) {\n            myState[i][j] *= 2;\n            myState[i][k] = 0;\n            merged = true;\n            noOfMoves++;\n            score += myState[i][j];\n            continue;\n          }\n          if (myState[i][j] !== 0 && myState[i][k] !==0) {\n            break;\n          }\n        }\n      }\n    }\n    this.saveScore(score);\n    this.lastMoveDetails.moves = noOfMoves;\n    return myState;\n  }\n/**\n * Merge config with default one\n * @param {?} config the config\n * @return {?}\n */\nprivate mergeConfig(config) {\n    if (!config) { return; }\n    const /** @type {?} */ keys = Object.keys(config);\n    keys.forEach((val) => {\n      this.defaultConfig[val] = config[val];\n    });\n  }\n/**\n * get the current state (total game state including scores)\n * @return {?}\n */\nprivate getState() {\n    let /** @type {?} */ currentState: any = localStorage.getItem(this.STORAGE_NAME);\n    if (!currentState) {\n      currentState = {};\n    } else {\n      try {\n        currentState  = JSON.parse(currentState);\n      } catch ( /** @type {?} */er) {}\n    }\n    return currentState;\n  }\n/**\n * Save the total game state\n * @param {?} state the total game state\n * @return {?}\n */\nprivate saveState(state: any) {\n    localStorage.setItem(this.STORAGE_NAME, JSON.stringify(state));\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction GameService_tsickle_Closure_declarations() {\n/** @type {?} */\nGameService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nGameService.ctorParameters;\n/** @type {?} */\nGameService.prototype.defaultConfig;\n/** @type {?} */\nGameService.prototype.SUPPORTED_THEMES;\n/** @type {?} */\nGameService.prototype.STORAGE_NAME;\n/** @type {?} */\nGameService.prototype.highScore;\n/** @type {?} */\nGameService.prototype.gameState;\n/** @type {?} */\nGameService.prototype.score;\n/** @type {?} */\nGameService.prototype.lastMoveDetails;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":[],"mappings":"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"}
